<div class="chat-shell card">
	<h3>Chat</h3>
	<div class="messages" *ngIf="svc.messages().length; else empty">
		<div class="msg" [class.user]="m.role==='user'" [class.ai]="m.role==='ai'" *ngFor="let m of svc.messages()">{{m.text}}</div>
	</div>
	<ng-template #empty><p class="text-xs empty">No messages yet.</p></ng-template>
	<form class="composer" (ngSubmit)="send()">
		<textarea [(ngModel)]="draft" name="draft" placeholder="Ask a question"></textarea>
		<button class="btn" type="submit" [disabled]="svc.sending()">Send</button>
	</form>
</div>
