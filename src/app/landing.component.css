.home-shell { max-width:1440px; margin:34px auto 70px; padding:0 42px; display:flex; flex-direction:column; gap:38px; }
.hero-card { padding:110px 70px 96px; position:relative; overflow:hidden; z-index:0; background:#fff; color:var(--gray-800); border:1px solid var(--gray-150); border-radius:20px; box-shadow: var(--shadow-sm); }
.hero-card:after { content:''; position:absolute; left:0; right:0; bottom:0; height:4px; background:linear-gradient(90deg,var(--brand) 0%, var(--brand-dark) 60%, var(--brand-dark) 100%); }
.hero-inner { max-width:880px; position:relative; z-index:1; }
.portal-title { margin:0 0 28px; font-size:54px; line-height:1.05; letter-spacing:.4px; font-weight:600; color:var(--brand); }
.subtitle { margin:0 0 28px; font-size:18px; line-height:1.55; color:var(--gray-700); max-width:760px; }
.tag-row { display:flex; gap:10px; flex-wrap:wrap; }
.mini-tag { background:var(--brand-light); color:var(--brand-dark); font-size:12px; padding:7px 13px 8px; font-weight:600; border-radius:30px; letter-spacing:.55px; text-transform:uppercase; }
.action-row { display:flex; gap:14px; flex-wrap:wrap; }
.portal-btn { background:var(--brand); color:#fff; border:none; border-radius:8px; padding:13px 24px 14px; font-size:14px; font-weight:600; letter-spacing:.5px; display:inline-flex; align-items:center; gap:10px; cursor:pointer; box-shadow:0 1px 2px rgba(0,0,0,.16); line-height:1.3; }
.portal-btn[disabled] { background:var(--gray-300); color:var(--gray-600); cursor:not-allowed; box-shadow:none; }
.portal-btn:not([disabled]):hover { background:var(--brand-dark); }
.portal-btn .ico { font-size:14px; line-height:1; }
.conversation { padding:28px 30px 34px; }
.section-head { font-size:13px; letter-spacing:1.1px; font-weight:800; text-transform:uppercase; color:var(--gray-700); margin:0 0 18px; display:inline-block; }
.section-head:after { content:''; display:block; width:100%; height:3px; background:var(--brand); border-radius:3px; margin:10px 0 0; }
.chat-box { display:flex; flex-direction:column; gap:14px; }
.messages { display:flex; flex-direction:column; gap:12px; max-height:360px; overflow:auto; padding-right:6px; background:transparent; border:none; box-shadow:none; }
.msg { display:flex; align-items:flex-end; position:relative; padding-left:36px; background:transparent; border:none; box-shadow:none; border-radius:0; }
.msg.user { justify-content:flex-end; padding-left:0; padding-right:36px; }
.msg .avatar { position:absolute; bottom:0; left:0; height:28px; width:28px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:11px; font-weight:800; letter-spacing:.4px; }
.msg.user .avatar { left:auto; right:0; }
.msg.user .avatar { background:var(--brand); color:#fff; }
.msg.ai .avatar { background:#e7ebf0; color:var(--gray-800); border:1px solid var(--gray-200); }
.msg .bubble { padding:10px 12px; border-radius:12px; max-width:82%; font-size:14px; line-height:1.5; white-space:pre-wrap; word-wrap:break-word; display:inline-block; }
.msg.user .bubble { background:var(--brand); color:#fff; border-top-right-radius:4px; box-shadow:0 1px 1px rgba(0,0,0,.08); }
.msg.ai .bubble { background:#f6f8fa; color:var(--gray-900); border-top-left-radius:4px; border:1px solid var(--gray-150); box-shadow:0 1px 1px rgba(0,0,0,.04); }
.msg .bubble.typing { display:inline-flex; gap:6px; padding:10px 12px; }
.msg .bubble.typing span { width:6px; height:6px; background:var(--gray-500); border-radius:50%; display:inline-block; animation:blink 1.1s infinite; opacity:.6; }
.msg .bubble.typing span:nth-child(2){ animation-delay:.15s; }
.msg .bubble.typing span:nth-child(3){ animation-delay:.3s; }
@keyframes blink { 0%{ opacity:.3; transform:translateY(0); } 50%{ opacity:1; transform:translateY(-2px);} 100%{ opacity:.3; transform:translateY(0);} }
.hint { margin:6px 0 0; color:var(--gray-600); font-size:13px; }
.composer { display:flex; flex-direction:column; gap:8px; }
.composer textarea { width:100%; border:1px solid var(--gray-200); border-radius:10px; min-height:78px; resize:vertical; padding:12px 14px; font-size:15px; line-height:1.45; background:var(--surface); font-family:inherit; }
.composer textarea:focus { outline:none; box-shadow: var(--focus-ring); border-color:var(--brand); }
.composer-actions { display:flex; gap:8px; justify-content:flex-end; }
.composer-actions .send { background:var(--brand); color:#fff; border:none; border-radius:8px; padding:8px 14px; font-weight:700; }
.composer-actions .send:disabled { background:var(--gray-300); color:var(--gray-600); }
.composer-actions .reset { background:#fff; color:var(--brand); border:1px solid var(--brand); border-radius:8px; padding:8px 12px; font-weight:700; }
.lower-grid { display:grid; grid-template-columns: 1fr 320px; gap:26px; align-items:start; }
@media (max-width:1180px){ .lower-grid { grid-template-columns: 1fr; } }
.metrics { padding:30px 30px 36px; }
.kpi-grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(180px,1fr)); gap:16px; margin-top:10px; }
.kpi-box { background:#fff; border:1px solid var(--gray-200); border-radius:14px; padding:16px 18px 16px 20px; display:flex; flex-direction:column; gap:10px; min-height:118px; position:relative; box-shadow:0 2px 4px rgba(0,0,0,.05); }
.kpi-box:after { content:''; position:absolute; left:20px; right:20px; bottom:14px; height:8px; background:linear-gradient(90deg,var(--brand) 0 30%, var(--gray-500) 30% 55%, var(--gray-700) 55% 78%, var(--gray-900) 78% 100%); border-radius:5px; opacity:.75; }
.kpi-grid .kpi-box:nth-child(1){ border-left:4px solid var(--brand); }
.kpi-grid .kpi-box:nth-child(2){ border-left:4px solid var(--gray-700); }
.kpi-grid .kpi-box:nth-child(3){ border-left:4px solid var(--gray-500); }
.kpi-grid .kpi-box:nth-child(4){ border-left:4px solid var(--gray-900); }
.kpi-value { font-size:28px; font-weight:700; color:var(--brand-dark); letter-spacing:.3px; }
.kpi-label { font-size:11px; letter-spacing:1px; text-transform:uppercase; font-weight:700; color:var(--gray-600); }
.kpi-grid.loading .kpi-box { justify-content:center; }
.skeleton { position:relative; overflow:hidden; }
.shimmer { height:22px; background:#e5e5e5; border-radius:6px; animation:shimmer 1.2s linear infinite; }
.shimmer.w40 { width:40%; }
.shimmer.w60 { width:60%; height:12px; }
@keyframes shimmer { 0% { opacity:.55; } 50% { opacity:1; } 100% { opacity:.55; } }
.top-products { margin:28px 4px 4px; }
.top-products h4 { margin:0 0 10px; font-size:13px; letter-spacing:.8px; text-transform:uppercase; color:var(--gray-700); }
.top-products ul { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:6px; font-size:.8rem; }
.top-products li { background:var(--gray-100); padding:8px 12px 9px; border-radius:10px; font-weight:600; letter-spacing:.4px; display:flex; gap:8px; align-items:center; }
.top-products .mini { font-size:.65rem; background:var(--brand-light); color:var(--brand-dark); padding:3px 6px 4px; border-radius:8px; }
.psl { padding:30px 28px 36px; border-left:5px solid var(--brand); }
.psl p { margin:8px 0 0; font-size:14px; line-height:1.5; color:var(--gray-700); font-weight:500; }
.card { background:#fff; border:1px solid var(--gray-150); border-radius:18px; box-shadow: var(--shadow-sm); }
@media (max-width:820px){ .hero-card { padding:90px 48px 86px; } .portal-title { font-size:44px; } }
@media (max-width:600px){ .hero-card { padding:78px 34px 78px; } .portal-title { font-size:36px; } .lower-grid { grid-template-columns: 1fr; } }
